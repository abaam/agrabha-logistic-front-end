{"version":3,"sources":["webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?50b2"],"names":["class","src","alt","role","for","id","name","type","href","to","login","validation-schema","schema","errors","invalidCredentials","state","phone_number","as","password","buttonText","components","LockClosedIcon","ButtonSolidBlue","Form","Field","ErrorMessage","data","error","setup","shape","required","matches","methods","self","this","then","response","console","log","$root","$emit","verified","localStorage","setItem","$router","push","catch","message","__exports__","render"],"mappings":"0IACSA,MAAM,kC,EACP,eAEM,OAFDA,MAAM,gBAAc,CACrB,eAA4E,OAAvEA,MAAM,gCAAgCC,IAAI,sBAAsBC,IAAI,O,MAExEF,MAAM,yC,EAEH,eAAoF,OAA/EC,IAAI,iCAAiCD,MAAM,YAAYE,IAAI,qB,WAGpE,eAA6F,MAAzFF,MAAM,wDAAuD,2BAAuB,G,EACxF,eAAyG,KAAtGA,MAAM,QAAO,yFAAqF,G,GAG5FA,MAAM,S,GACFG,KAAK,S,EACN,eAEM,OAFDH,MAAM,uDAAsD,2BAEjE,G,GACKA,MAAM,gF,EAEL,eAAI,mB,GAGTA,MAAM,Q,EACP,eAAkF,SAA3EI,IAAI,eAAeJ,MAAM,+BAA8B,gBAAY,G,GAazEA,MAAM,Q,EACP,eAA0E,SAAnEI,IAAI,WAAWJ,MAAM,+BAA8B,YAAQ,G,EAatE,eAaM,OAbDA,MAAM,0CAAwC,CAC/C,eAKM,OALDA,MAAM,qBAAmB,CAC1B,eAA+H,SAAxHK,GAAG,cAAcC,KAAK,cAAcC,KAAK,WAAWP,MAAM,8DACjE,eAEQ,SAFDI,IAAI,cAAcJ,MAAM,sBAAqB,mBAKxD,eAIM,OAJDA,MAAM,WAAS,CAChB,eAEI,KAFDQ,KAAK,IAAIR,MAAM,iDAAgD,+B,MAW7EA,MAAM,W,iBAAU,yB,iBAEiE,sB,4MAzE9F,eA4EM,MA5EN,EA4EM,CA3EF,EAGA,eAuEM,MAvEN,EAuEM,CAtEF,eAEc,GAFDS,GAAG,KAAG,C,wBACf,iBAAoF,CAApF,M,MAGJ,EACA,EAEA,eAyDO,GAzDA,SAAQ,EAAAC,MAAQC,oBAAmB,EAAAC,Q,yBACtC,gBADwDC,EACxD,EADwDA,OACxD,MAD8D,CAC9D,eAuDM,MAvDN,EAuDM,C,eAtDF,eAOM,MAPN,EAOM,CANF,EAGA,eAEM,MAFN,EAEM,CADF,eAA+B,wBAAzB,EAAAC,oBAAkB,KACtB,G,cANgB,EAAAA,sBAS1B,eAYM,MAZN,EAYM,CAXF,EACA,eAQE,G,WAPW,EAAAC,MAAMC,a,qDAAN,EAAAD,MAAMC,aAAY,IAC3BT,KAAK,OACLU,GAAG,QACHZ,GAAG,eACHC,KAAK,eACLN,MAAK,gBAAC,kIACEa,EAAO,gBAAD,2J,+BAElB,eAAyF,GAA3Eb,MAAM,+CAA+CM,KAAK,mBAG5E,eAYM,MAZN,EAYM,CAXF,EACA,eAQE,G,WAPW,EAAAS,MAAMG,S,qDAAN,EAAAH,MAAMG,SAAQ,IACvBX,KAAK,WACLU,GAAG,QACHZ,GAAG,WACHC,KAAK,WACLN,MAAK,gBAAC,kIACEa,EAAO,YAAD,2J,+BAElB,eAAqF,GAAvEb,MAAM,+CAA+CM,KAAK,eAG5E,EAeA,eAA0E,GAAzDC,KAAK,SAASP,MAAM,cAAcmB,WAAW,kB,yCAKtE,eAGM,MAHN,EAGM,C,EADF,eAAkH,GAArGV,GAAG,YAAYT,MAAM,iD,yBAAgD,iBAAkB,C,kFAcjG,GACXoB,WAAY,CACRC,eAAA,OACAC,kBAAA,KACAC,KAAA,OACAC,MAAA,OACAC,aAAA,QAEJC,KARW,WASP,MAAO,CACHZ,mBAAoB,GACpBa,MAAO,OAGfC,MAdW,WAeP,IAAMb,EAAQ,eAAS,CACnBC,aAAc,GACdE,SAAU,KAGRN,EAAS,SAAaiB,MAAM,CAClCb,aAAc,SAETc,SAAS,4BACTC,QACD,oBACA,6BAEJb,SAAU,SAELY,SAAS,0BAEd,MAAO,CACHf,QACAH,WAGRoB,QAAS,CACLtB,MADK,WACE,WACCuB,EAAOC,KACX,OAAKxB,MAAM,CACHM,aAAckB,KAAKnB,MAAMC,aACzBE,SAAUgB,KAAKnB,MAAMG,WAE5BiB,MAAK,SAACC,GACHC,QAAQC,IAAIF,GACZ,EAAKG,MAAMC,MAAM,SAAS,GACvBJ,EAASV,KAAKe,UACbC,aAAaC,QAAQ,OAAQ,QAC7BD,aAAaC,QAAQ,OAAQP,EAASV,KAAKvB,MAC3C,EAAKyC,QAAQC,KAAK,gBAElBH,aAAaC,QAAQ,eAAgBP,EAASV,KAAKV,cACnD,EAAK4B,QAAQC,KAAK,qBAGzBC,OAAM,SAAUnB,GACTA,EAAMS,WACNH,EAAKnB,mBAAqBa,EAAMS,SAASV,KAAKqB,e,qBC7ItE,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d2086b7.0e55ba38.js","sourcesContent":["<template>\r\n    <div class=\"flex items-center min-h-screen\">\r\n        <div class=\"w-0 lg:w-1/3\">\r\n            <img class=\"min-h-screen object-cover z-0\" src=\"img/login-image.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"w-full lg:w-2/3 px-4 md:px-8 lg:px-12\">\r\n            <router-link to=\"/\">\r\n                <img src=\"img/agrabah-logistics-logo.png\" class=\"w-64 mb-8\" alt=\"Agrabah Logistics\">\r\n            </router-link>\r\n\r\n            <h1 class=\"text-4xl text-blue font-bold py-4 border-b uppercase\">Agrabah Logistics Login</h1>\r\n            <p class=\"mt-4\">Log in with your phone number and password that you entered during your registration.</p>\r\n\r\n            <Form @submit=\"login\" :validation-schema=\"schema\" v-slot=\"{ errors }\">\r\n                <div class=\"mt-10\">\r\n                    <div role=\"alert\" v-show=\"invalidCredentials\">\r\n                        <div class=\"bg-red-500 text-white font-bold rounded-t px-4 py-2\">\r\n                            Incorrect Credentials\r\n                        </div>\r\n                        <div class=\"border border-t-0 border-red-400 rounded-b bg-red-100 px-4 py-3 text-red-700\">\r\n                            <p>{{ invalidCredentials }}</p>\r\n                        </div><br>\r\n                    </div>\r\n                    \r\n                    <div class=\"mb-4\">\r\n                        <label for=\"phone-number\" class=\"block text-sm font-semibold\">Phone number</label>\r\n                        <Field\r\n                            v-model=\"state.phone_number\"\r\n                            type=\"text\"\r\n                            as=\"input\"\r\n                            id=\"phone-number\"\r\n                            name=\"phone_number\"\r\n                            class=\"appearance-none rounded relative block w-full px-3 py-2 placeholder-grey text-gray-600 focus:outline-none focus:z-10 sm:text-sm\"\r\n                            :class=\"errors['phone_number'] ? 'border border-purple focus:ring-purple focus:ring-0 focus:border-purple' : 'border border-grey focus:ring-grey-dark focus:ring-0 focus:border-grey-dark'\"\r\n                        />\r\n                        <ErrorMessage class=\"text-purple font-semibold text-sm block my-1\" name=\"phone_number\" />\r\n                    </div>\r\n\r\n                    <div class=\"mb-4\">\r\n                        <label for=\"password\" class=\"block text-sm font-semibold\">Password</label>\r\n                        <Field \r\n                            v-model=\"state.password\"\r\n                            type=\"password\"\r\n                            as=\"input\"\r\n                            id=\"password\"\r\n                            name=\"password\"\r\n                            class=\"appearance-none rounded relative block w-full px-3 py-2 placeholder-grey text-gray-600 focus:outline-none focus:z-10 sm:text-sm\"\r\n                            :class=\"errors['password'] ? 'border border-purple focus:ring-purple focus:ring-0 focus:border-purple' : 'border border-grey focus:ring-grey-dark focus:ring-0 focus:border-grey-dark'\"\r\n                        />\r\n                        <ErrorMessage class=\"text-purple font-semibold text-sm block my-1\" name=\"password\" />\r\n                    </div>\r\n                    \r\n                    <div class=\"flex items-center justify-between mb-4\">\r\n                        <div class=\"flex items-center\">\r\n                            <input id=\"remember-me\" name=\"remember-me\" type=\"checkbox\" class=\"h-4 w-4 text-blue focus:ring-blue border-gray-300 rounded\" />\r\n                            <label for=\"remember-me\" class=\"ml-2 block text-sm\">\r\n                            Remember me\r\n                            </label>\r\n                        </div>\r\n\r\n                        <div class=\"text-sm\">\r\n                            <a href=\"#\" class=\"font-semibold text-blue-light hover:text-blue\">\r\n                                Forgot your password?\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <ButtonSolidBlue type=\"submit\" class=\"w-full mb-4\" buttonText=\"Sign In\" />\r\n                    \r\n                </div>\r\n            </Form>\r\n\r\n            <div class=\"text-sm\">\r\n                Not registered yet? \r\n                <router-link to=\"/register\" class=\"font-semibold text-blue-light hover:text-blue\">Create an account?</router-link>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import User from \"../api/user\";\r\n    import * as yup from \"yup\";\r\n    import { reactive } from \"vue\";\r\n    import { Form, Field, ErrorMessage } from \"vee-validate\";\r\n    import { LockClosedIcon } from '@heroicons/vue/solid'\r\n    import ButtonSolidBlue from '../components/buttons/ButtonSolidBlue'\r\n    \r\n    export default {\r\n        components: {\r\n            LockClosedIcon,\r\n            ButtonSolidBlue,\r\n            Form,\r\n            Field,\r\n            ErrorMessage\r\n        },\r\n        data() {\r\n            return {\r\n                invalidCredentials: '',\r\n                error: null\r\n            };\r\n        },\r\n        setup() {\r\n            const state = reactive({\r\n                phone_number: '',\r\n                password: '',\r\n            });\r\n\r\n            const schema = yup.object().shape({\r\n            phone_number: yup\r\n                .string()\r\n                .required(\"Phone number is required\")\r\n                .matches(\r\n                /^(09|\\+639)\\d{9}$/,\r\n                \"Phone number is not valid\"\r\n                ),\r\n            password: yup\r\n                .string()\r\n                .required(\"Password is required\"),\r\n            });\r\n            return {\r\n                state,\r\n                schema,\r\n            };\r\n        },\r\n        methods: {\r\n            login(){\r\n                let self = this\r\n                User.login({\r\n                        phone_number: this.state.phone_number,\r\n                        password: this.state.password\r\n                    })\r\n                .then((response) => {\r\n                    console.log(response);\r\n                    this.$root.$emit('login', true); \r\n                    if(response.data.verified){\r\n                        localStorage.setItem('auth', 'true');\r\n                        localStorage.setItem('role', response.data.role);\r\n                        this.$router.push('/dashboard');\r\n                    } else {\r\n                        localStorage.setItem('Phone Number', response.data.phone_number);\r\n                        this.$router.push('/verification');\r\n                    }\r\n                })\r\n                .catch(function (error) {\r\n                    if (error.response) {\r\n                        self.invalidCredentials = error.response.data.message;\r\n                    }\r\n                });\r\n            }\r\n        },\r\n    }\r\n</script>","import { render } from \"./Login.vue?vue&type=template&id=736e41e5\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\moy\\\\Downloads\\\\agrabha-logistic-front-end\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}